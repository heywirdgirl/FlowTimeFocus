(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13862,e=>{"use strict";var r=e.i(43476),t=e.i(71645),l=e.i(62962),s=e.i(66879),n=e.i(11398),a=e.i(26683);let o=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("div",{ref:l,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let i=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("div",{ref:l,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let c=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("h3",{ref:l,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle";let d=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("p",{ref:l,className:(0,a.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let u=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("div",{ref:l,className:(0,a.cn)("p-6 pt-0",e),...t}));u.displayName="CardContent";let h=t.forwardRef(({className:e,...t},l)=>(0,r.jsx)("div",{ref:l,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t}));h.displayName="CardFooter";var f=e.i(75254);let p=(0,f.default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),m=(0,f.default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),x=(0,f.default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),v=(0,f.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),w=(0,f.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),g=(0,f.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),y=(0,f.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var j=e.i(18621);function b({phase:e,onSave:l,onCancel:s,isNew:a}){let[o,i]=(0,t.useState)(e?.title||""),[c,d]=(0,t.useState)(String(e?.duration||""));return(0,r.jsxs)("div",{className:"p-2 my-2 border rounded-lg bg-background space-y-2",children:[(0,r.jsx)(j.Input,{value:o,onChange:e=>i(e.target.value),placeholder:"Phase Title"}),(0,r.jsx)(j.Input,{type:"number",value:c,onChange:e=>d(e.target.value),placeholder:"Duration (min)",step:"0.1"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(n.Button,{onClick:()=>{let r=parseFloat(c);o.trim()&&!isNaN(r)&&r>=.1&&l({...e,title:o,duration:r})},size:"sm",className:"w-full",children:a?"Add":"Save"}),(0,r.jsx)(n.Button,{onClick:s,size:"sm",variant:"outline",className:"w-full",children:"Cancel"})]})]})}function N(){let e,{currentCycle:c,currentPhaseIndex:d,updateCycle:f,updatePhase:N,addPhase:S,deletePhase:C,setCurrentPhaseIndex:R,saveCycleChanges:E,createNewCycle:k}=(0,l.useCycleStore)(),{snapshot:T,send:P,initializeTimer:L,stopTimer:z}=(0,s.useTimerStore)();(0,t.useEffect)(()=>(L(),()=>z()),[L,z]);let D=c?.phases[d],[A,H]=(0,t.useState)(!1),[_,M]=(0,t.useState)(!1),[B,W]=(0,t.useState)(null),[I,O]=(0,t.useState)(!1);if(!T||!c||!D)return(0,r.jsx)(o,{className:"p-8 text-center",children:"Loading Timer..."});let{timeLeft:U}=T.context,Y=T.matches("running"),V=60*D.duration;return(0,r.jsxs)(o,{className:"w-full text-center border-2 shadow-lg relative",children:[(0,r.jsx)(i,{className:"pb-2",children:_?(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(j.Input,{value:c.name,onChange:e=>{f({name:e.target.value}),H(!0)},className:"text-3xl font-headline text-center"}),(0,r.jsx)(n.Button,{size:"sm",onClick:()=>M(!1),children:"Done"})]}):(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("h2",{className:"text-3xl font-headline tracking-wider",children:c.name}),(0,r.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>M(!0),children:(0,r.jsx)(x,{className:"h-5 w-5"})})]})}),(0,r.jsx)(u,{className:"flex flex-col items-center justify-center pt-4",children:(0,r.jsxs)("div",{className:"relative w-64 h-64 md:w-80 md:h-80",children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{className:"text-gray-200 dark:text-gray-700",strokeWidth:"5",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),(0,r.jsx)("circle",{className:"text-primary transition-all duration-1000 linear",strokeWidth:"5",strokeDasharray:"282.74",strokeDashoffset:282.74-(V>0?(V-U)/V*100:0)/100*282.74,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50",style:{transform:"rotate(-90deg)",transformOrigin:"50% 50%"}})]}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)("span",{className:"font-mono text-5xl md:text-7xl font-bold tabular-nums",children:(e=Math.floor(U/60),`${String(e).padStart(2,"0")}:${String(U%60).padStart(2,"0")}`)})})]})}),(0,r.jsxs)(h,{className:"flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"flex justify-center items-center gap-4",children:(0,r.jsx)(n.Button,{onClick:()=>{T.matches("running")?P({type:"PAUSE"}):T.matches("paused")?P({type:"RESUME"}):P({type:"START"})},size:"icon",className:"h-20 w-20 rounded-full shadow-lg",children:Y?(0,r.jsx)(m,{className:"h-10 w-10"}):(0,r.jsx)(p,{className:"h-10 w-10"})})}),(0,r.jsxs)("div",{className:"w-full space-y-2 py-4",children:[(0,r.jsx)("div",{className:"flex flex-col items-center justify-center gap-2 w-full max-w-sm mx-auto",children:c.phases.map((e,t)=>(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,r.jsxs)(n.Button,{variant:t===d?"default":"outline",size:"sm",onClick:()=>R(t),className:(0,a.cn)("h-auto py-2 px-4 w-full justify-between flex-grow",t===d&&"shadow-md"),children:[(0,r.jsx)("span",{children:e.title}),(0,r.jsxs)("span",{children:[e.duration,"m"]})]}),(0,r.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>W(B===e.id?null:e.id),children:(0,r.jsx)(x,{className:"h-4 w-4"})}),(0,r.jsx)(n.Button,{variant:"ghost",size:"icon",onClick:()=>{C(e.id),H(!0)},className:"text-destructive",children:(0,r.jsx)(w,{className:"h-4 w-4"})})]}),B===e.id&&(0,r.jsx)(b,{phase:e,onSave:r=>{N(e.id,r),W(null),H(!0)},onCancel:()=>W(null)})]},e.id))}),(0,r.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>O(!0),className:"mt-2 mx-auto flex",children:[(0,r.jsx)(v,{className:"mr-2 h-4 w-4"})," Add Phase"]}),I&&(0,r.jsx)(b,{isNew:!0,phase:{title:"New Phase",duration:5},onSave:e=>{S(e),O(!1),H(!0)},onCancel:()=>O(!1)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4 border-t w-full max-w-sm mx-auto",children:[(0,r.jsxs)(n.Button,{onClick:k,size:"sm",variant:"outline",className:"w-full",children:[(0,r.jsx)(y,{className:"mr-2 h-4 w-4"})," New Cycle"]}),(0,r.jsxs)(n.Button,{onClick:async()=>{await E(),H(!1)},size:"sm",variant:"outline",disabled:!A,className:"w-full",children:[(0,r.jsx)(g,{className:"mr-2 h-4 w-4"})," Save Changes"]})]})]})]})}let S=(0,f.default)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var C=e.i(48425),R=e.i(96626),E=e.i(30030),k=e.i(20783),T=e.i(30207),P=e.i(86318),L=e.i(34620),z=e.i(81140),D="ScrollArea",[A,H]=(0,E.createContextScope)(D),[_,M]=A(D),B=t.forwardRef((e,l)=>{let{__scopeScrollArea:s,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[c,d]=t.useState(null),[u,h]=t.useState(null),[f,p]=t.useState(null),[m,x]=t.useState(null),[v,w]=t.useState(null),[g,y]=t.useState(0),[j,b]=t.useState(0),[N,S]=t.useState(!1),[R,E]=t.useState(!1),T=(0,k.useComposedRefs)(l,e=>d(e)),L=(0,P.useDirection)(a);return(0,r.jsx)(_,{scope:s,type:n,dir:L,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:h,content:f,onContentChange:p,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:R,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:b,children:(0,r.jsx)(C.Primitive.div,{dir:L,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});B.displayName=D;var W="ScrollAreaViewport",I=t.forwardRef((e,l)=>{let{__scopeScrollArea:s,children:n,nonce:a,...o}=e,i=M(W,s),c=t.useRef(null),d=(0,k.useComposedRefs)(l,c,i.onViewportChange);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,r.jsx)(C.Primitive.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,r.jsx)("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});I.displayName=W;var O="ScrollAreaScrollbar",U=t.forwardRef((e,l)=>{let{forceMount:s,...n}=e,a=M(O,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,c="horizontal"===e.orientation;return t.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),"hover"===a.type?(0,r.jsx)(Y,{...n,ref:l,forceMount:s}):"scroll"===a.type?(0,r.jsx)(V,{...n,ref:l,forceMount:s}):"auto"===a.type?(0,r.jsx)(X,{...n,ref:l,forceMount:s}):"always"===a.type?(0,r.jsx)(F,{...n,ref:l}):null});U.displayName=O;var Y=t.forwardRef((e,l)=>{let{forceMount:s,...n}=e,a=M(O,e.__scopeScrollArea),[o,i]=t.useState(!1);return t.useEffect(()=>{let e=a.scrollArea,r=0;if(e){let t=()=>{window.clearTimeout(r),i(!0)},l=()=>{r=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return e.addEventListener("pointerenter",t),e.addEventListener("pointerleave",l),()=>{window.clearTimeout(r),e.removeEventListener("pointerenter",t),e.removeEventListener("pointerleave",l)}}},[a.scrollArea,a.scrollHideDelay]),(0,r.jsx)(R.Presence,{present:s||o,children:(0,r.jsx)(X,{"data-state":o?"visible":"hidden",...n,ref:l})})}),V=t.forwardRef((e,l)=>{var s;let{forceMount:n,...a}=e,o=M(O,e.__scopeScrollArea),i="horizontal"===e.orientation,c=ed(()=>u("SCROLL_END"),100),[d,u]=(s={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},t.useReducer((e,r)=>s[e][r]??e,"hidden"));return t.useEffect(()=>{if("idle"===d){let e=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[d,o.scrollHideDelay,u]),t.useEffect(()=>{let e=o.viewport,r=i?"scrollLeft":"scrollTop";if(e){let t=e[r],l=()=>{let l=e[r];t!==l&&(u("SCROLL"),c()),t=l};return e.addEventListener("scroll",l),()=>e.removeEventListener("scroll",l)}},[o.viewport,i,u,c]),(0,r.jsx)(R.Presence,{present:n||"hidden"!==d,children:(0,r.jsx)(F,{"data-state":"hidden"===d?"hidden":"visible",...a,ref:l,onPointerEnter:(0,z.composeEventHandlers)(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:(0,z.composeEventHandlers)(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),X=t.forwardRef((e,l)=>{let s=M(O,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=t.useState(!1),c="horizontal"===e.orientation,d=ed(()=>{if(s.viewport){let e=s.viewport.offsetWidth<s.viewport.scrollWidth,r=s.viewport.offsetHeight<s.viewport.scrollHeight;i(c?e:r)}},10);return eu(s.viewport,d),eu(s.content,d),(0,r.jsx)(R.Presence,{present:n||o,children:(0,r.jsx)(F,{"data-state":o?"visible":"hidden",...a,ref:l})})}),F=t.forwardRef((e,l)=>{let{orientation:s="vertical",...n}=e,a=M(O,e.__scopeScrollArea),o=t.useRef(null),i=t.useRef(0),[c,d]=t.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=en(c.viewport,c.content),h={...n,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>o.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function f(e,r){return function(e,r,t,l="ltr"){let s=ea(t),n=r||s/2,a=t.scrollbar.paddingStart+n,o=t.scrollbar.size-t.scrollbar.paddingEnd-(s-n),i=t.content-t.viewport;return ei([a,o],"ltr"===l?[0,i]:[-1*i,0])(e)}(e,i.current,c,r)}return"horizontal"===s?(0,r.jsx)($,{...h,ref:l,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=eo(a.viewport.scrollLeft,c,a.dir);o.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=f(e,a.dir))}}):"vertical"===s?(0,r.jsx)(q,{...h,ref:l,onThumbPositionChange:()=>{if(a.viewport&&o.current){let e=eo(a.viewport.scrollTop,c);o.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=f(e))}}):null}),$=t.forwardRef((e,l)=>{let{sizes:s,onSizesChange:n,...a}=e,o=M(O,e.__scopeScrollArea),[i,c]=t.useState(),d=t.useRef(null),u=(0,k.useComposedRefs)(l,d,o.onScrollbarXChange);return t.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,r.jsx)(J,{"data-orientation":"horizontal",...a,ref:u,sizes:s,style:{bottom:0,left:"rtl"===o.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===o.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ea(s)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.x),onDragScroll:r=>e.onDragScroll(r.x),onWheelScroll:(r,t)=>{if(o.viewport){var l,s;let n=o.viewport.scrollLeft+r.deltaX;e.onWheelScroll(n),l=n,s=t,l>0&&l<s&&r.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:es(i.paddingLeft),paddingEnd:es(i.paddingRight)}})}})}),q=t.forwardRef((e,l)=>{let{sizes:s,onSizesChange:n,...a}=e,o=M(O,e.__scopeScrollArea),[i,c]=t.useState(),d=t.useRef(null),u=(0,k.useComposedRefs)(l,d,o.onScrollbarYChange);return t.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,r.jsx)(J,{"data-orientation":"vertical",...a,ref:u,sizes:s,style:{top:0,right:"ltr"===o.dir?0:void 0,left:"rtl"===o.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ea(s)+"px",...e.style},onThumbPointerDown:r=>e.onThumbPointerDown(r.y),onDragScroll:r=>e.onDragScroll(r.y),onWheelScroll:(r,t)=>{if(o.viewport){var l,s;let n=o.viewport.scrollTop+r.deltaY;e.onWheelScroll(n),l=n,s=t,l>0&&l<s&&r.preventDefault()}},onResize:()=>{d.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:es(i.paddingTop),paddingEnd:es(i.paddingBottom)}})}})}),[K,G]=A(O),J=t.forwardRef((e,l)=>{let{__scopeScrollArea:s,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:f,...p}=e,m=M(O,s),[x,v]=t.useState(null),w=(0,k.useComposedRefs)(l,e=>v(e)),g=t.useRef(null),y=t.useRef(""),j=m.viewport,b=n.content-n.viewport,N=(0,T.useCallbackRef)(h),S=(0,T.useCallbackRef)(d),R=ed(f,10);function E(e){g.current&&u({x:e.clientX-g.current.left,y:e.clientY-g.current.top})}return t.useEffect(()=>{let e=e=>{let r=e.target;x?.contains(r)&&N(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[j,x,b,N]),t.useEffect(S,[n,S]),eu(x,R),eu(m.content,R),(0,r.jsx)(K,{scope:s,scrollbar:x,hasThumb:a,onThumbChange:(0,T.useCallbackRef)(o),onThumbPointerUp:(0,T.useCallbackRef)(i),onThumbPositionChange:S,onThumbPointerDown:(0,T.useCallbackRef)(c),children:(0,r.jsx)(C.Primitive.div,{...p,ref:w,style:{position:"absolute",...p.style},onPointerDown:(0,z.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),g.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(e))}),onPointerMove:(0,z.composeEventHandlers)(e.onPointerMove,E),onPointerUp:(0,z.composeEventHandlers)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Q="ScrollAreaThumb",Z=t.forwardRef((e,t)=>{let{forceMount:l,...s}=e,n=G(Q,e.__scopeScrollArea);return(0,r.jsx)(R.Presence,{present:l||n.hasThumb,children:(0,r.jsx)(ee,{ref:t,...s})})}),ee=t.forwardRef((e,l)=>{let{__scopeScrollArea:s,style:n,...a}=e,o=M(Q,s),i=G(Q,s),{onThumbPositionChange:c}=i,d=(0,k.useComposedRefs)(l,e=>i.onThumbChange(e)),u=t.useRef(void 0),h=ed(()=>{u.current&&(u.current(),u.current=void 0)},100);return t.useEffect(()=>{let e=o.viewport;if(e){let r=()=>{h(),u.current||(u.current=ec(e,c),c())};return c(),e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[o.viewport,h,c]),(0,r.jsx)(C.Primitive.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:(0,z.composeEventHandlers)(e.onPointerDownCapture,e=>{let r=e.target.getBoundingClientRect(),t=e.clientX-r.left,l=e.clientY-r.top;i.onThumbPointerDown({x:t,y:l})}),onPointerUp:(0,z.composeEventHandlers)(e.onPointerUp,i.onThumbPointerUp)})});Z.displayName=Q;var er="ScrollAreaCorner",et=t.forwardRef((e,t)=>{let l=M(er,e.__scopeScrollArea),s=!!(l.scrollbarX&&l.scrollbarY);return"scroll"!==l.type&&s?(0,r.jsx)(el,{...e,ref:t}):null});et.displayName=er;var el=t.forwardRef((e,l)=>{let{__scopeScrollArea:s,...n}=e,a=M(er,s),[o,i]=t.useState(0),[c,d]=t.useState(0),u=!!(o&&c);return eu(a.scrollbarX,()=>{let e=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(e),d(e)}),eu(a.scrollbarY,()=>{let e=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(e),i(e)}),u?(0,r.jsx)(C.Primitive.div,{...n,ref:l,style:{width:o,height:c,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null});function es(e){return e?parseInt(e,10):0}function en(e,r){let t=e/r;return isNaN(t)?0:t}function ea(e){let r=en(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-t)*r,18)}function eo(e,r,t="ltr"){let l=ea(r),s=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,n=r.scrollbar.size-s,a=r.content-r.viewport,o=function(e,[r,t]){return Math.min(t,Math.max(r,e))}(e,"ltr"===t?[0,a]:[-1*a,0]);return ei([0,a],[0,n-l])(o)}function ei(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let l=(r[1]-r[0])/(e[1]-e[0]);return r[0]+l*(t-e[0])}}var ec=(e,r=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},l=0;return!function s(){let n={left:e.scrollLeft,top:e.scrollTop},a=t.left!==n.left,o=t.top!==n.top;(a||o)&&r(),t=n,l=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(l)};function ed(e,r){let l=(0,T.useCallbackRef)(e),s=t.useRef(0);return t.useEffect(()=>()=>window.clearTimeout(s.current),[]),t.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(l,r)},[l,r])}function eu(e,r){let t=(0,T.useCallbackRef)(r);(0,L.useLayoutEffect)(()=>{let r=0;if(e){let l=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return l.observe(e),()=>{window.cancelAnimationFrame(r),l.unobserve(e)}}},[e,t])}let eh=t.forwardRef(({className:e,children:t,...l},s)=>(0,r.jsxs)(B,{ref:s,className:(0,a.cn)("relative overflow-hidden",e),...l,children:[(0,r.jsx)(I,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(ef,{}),(0,r.jsx)(et,{})]}));eh.displayName=B.displayName;let ef=t.forwardRef(({className:e,orientation:t="vertical",...l},s)=>(0,r.jsx)(U,{ref:s,orientation:t,className:(0,a.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...l,children:(0,r.jsx)(Z,{className:"relative flex-1 rounded-full bg-border"})}));function ep(){let{cycles:e,setCurrentCycle:t,deleteCycle:a,currentCycle:h,isLoading:f}=(0,l.useCycleStore)(),{isActive:m,send:x}=(0,s.useTimerStore)();return f?(0,r.jsxs)(o,{className:"w-full",children:[(0,r.jsx)(i,{children:(0,r.jsx)(c,{children:"Your Cycles"})}),(0,r.jsx)(u,{className:"h-48 flex items-center justify-center",children:(0,r.jsx)("p",{children:"Loading cycles..."})})]}):(0,r.jsxs)(o,{className:"w-full",children:[(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{children:"Your Cycles"}),(0,r.jsx)(d,{children:"Select a cycle to begin."})]}),(0,r.jsxs)(u,{className:"space-y-4",children:[(0,r.jsx)(eh,{className:"h-48",children:(0,r.jsxs)("div",{className:"space-y-2 pr-4",children:[e&&e.map(e=>(0,r.jsxs)(o,{className:"flex items-center justify-between p-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"font-semibold",children:e.name})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(n.Button,{size:"icon",variant:"ghost",onClick:()=>t(e.id),children:[(0,r.jsx)(p,{className:"h-5 w-5"}),(0,r.jsxs)("span",{className:"sr-only",children:["Run ",e.name]})]}),(0,r.jsxs)(n.Button,{size:"icon",variant:"ghost",onClick:()=>{var r;return r=e.id,void(m&&h?.id===r?window.confirm("This cycle is currently running. Are you sure you want to delete it? The timer will be reset.")&&(x({type:"RESET"}),a(r)):a(r))},children:[(0,r.jsx)(S,{className:"h-5 w-5 text-red-500"}),(0,r.jsxs)("span",{className:"sr-only",children:["Delete ",e.name]})]})]})]},e.id)),(!e||0===e.length)&&(0,r.jsx)("div",{className:"text-center text-muted-foreground p-4",children:"No cycles found."})]})}),(0,r.jsx)(n.Button,{variant:"outline",className:"w-full",children:"Explore More Templates"})]})]})}function em({className:e,...t}){return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...t})}function ex(){let e=(0,s.useTimerStore)(e=>e.initializeTimer),n=(0,s.useTimerStore)(e=>e.snapshot?.matches("running")??!1),{currentCycle:o,currentPhaseIndex:i,isLoading:c}=(0,l.useCycleStore)();if((0,t.useEffect)(()=>{e()},[e]),c||!o)return(0,r.jsx)("div",{className:"min-h-screen w-full bg-background flex flex-col",children:(0,r.jsx)("main",{className:"flex-grow container mx-auto max-w-6xl px-4 py-8 md:py-12",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,r.jsx)(em,{className:"h-[200px] w-full"}),(0,r.jsx)(em,{className:"h-[50px] w-full"})]}),(0,r.jsx)("div",{className:"w-full space-y-4",children:(0,r.jsx)(em,{className:"h-[250px] w-full"})})]})})});let d=o.phases[i];return d?(0,r.jsx)("div",{className:(0,a.cn)("min-h-screen w-full transition-colors duration-1000 flex flex-col",n?"work"===d.type?"bg-session-focus-bg dark:bg-session-focus-bg-dark":"break"===d.type?"bg-session-rest-bg dark:bg-session-rest-bg-dark":"bg-accent/20":"bg-background"),children:(0,r.jsx)("main",{className:"flex-grow container mx-auto max-w-6xl px-4 py-8 md:py-12",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsx)(N,{})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)(ep,{})})]})})}):(0,r.jsx)("div",{children:"Error: Current phase could not be loaded."})}ef.displayName=U.displayName,e.s(["Homepage",()=>ex],13862)}]);